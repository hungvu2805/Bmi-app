<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>App Tính BMI, TDEE, Macro</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #ffe6f0;
      max-width: 480px;
      margin: auto;
      padding: 20px;
      color: #333;
    }
    h2 {
      text-align: center;
      color: #d63384;
    }
    label, input, select, button {
      display: block;
      width: 100%;
      margin-top: 10px;
      font-size: 16px;
    }
    button {
      background-color: #d63384;
      color: white;
      border: none;
      padding: 12px;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 20px;
    }
    button:hover {
      background-color: #b82d6b;
    }
    .result {
      background: #fff;
      padding: 15px;
      border-left: 4px solid #d63384;
      margin-top: 20px;
      border-radius: 6px;
    }
    .zalo {
      margin-top: 15px;
      text-align: center;
    }
    .zalo a {
      background: #00a1d6;
      color: white;
      padding: 10px 20px;
      display: inline-block;
      border-radius: 6px;
      text-decoration: none;
    }
  </style>
</head>
<body>

<h2>💖 Tính BMI – TDEE – Gợi ý Dinh dưỡng 💖</h2>

<label>📏 Cân nặng (kg):</label>
<input type="number" id="weight" step="0.1" required>

<label>📐 Chiều cao (cm):</label>
<input type="number" id="height" required>

<label>🔥 Mức độ hoạt động (PAL):</label>
<select id="pal">
  <option value="1.2">1.2 – Ít vận động</option>
  <option value="1.55">1.55 – Vận động vừa</option>
  <option value="1.75">1.75 – Tập luyện cao</option>
</select>

<label>🎯 Mục tiêu:</label>
<select id="goal">
  <option value="giam">Giảm mỡ</option>
  <option value="co">Săn chắc</option>
</select>

<button onclick="tinh()">💥 Tính ngay</button>

<div id="output" class="result" style="display:none;"></div>

<div class="zalo">
  📩 Cần tư vấn riêng? <br>
  <a href="https://zalo.me/0981781056" target="_blank">Gửi kết quả qua Zalo</a>
</div>

<script>
function tinh() {
  let weight = parseFloat(document.getElementById('weight').value);
  let height = parseFloat(document.getElementById('height').value);
  let pal = parseFloat(document.getElementById('pal').value);
  let goal = document.getElementById('goal').value;

  if (!weight || !height) return alert("Vui lòng nhập đầy đủ.");

  let heightM = height / 100;
  let bmi = weight / (heightM * heightM);
  let status = "";
  if (bmi < 18.5) status = "Thiếu cân";
  else if (bmi <= 22.9) status = "Trung bình";
  else if (bmi <= 24.9) status = "Thừa cân";
  else if (bmi <= 29.9) status = "Béo phì độ I";
  else status = "Béo phì độ II";

  let ideal = (height - 100) * 0.9;
  let bmr = weight * 22;
  let tdee = bmr * pal;

  let defPercent = (bmi <= 22.9) ? 0.10 : (bmi <= 24.9) ? 0.25 : 0.35;
  let der = Math.round(tdee - tdee * defPercent);

  let protein = 115;
  let pCalo = protein * 4;
  let cPercent = goal === "co" ? 0.4 : 0.2;
  let cCalo = der * cPercent;
  let fCalo = der - pCalo - cCalo;

  let carb = Math.round(cCalo / 4);
  let fat = Math.round(fCalo / 9);

  let output = `
    <strong>BMI:</strong> ${bmi.toFixed(1)} (${status})<br>
    <strong>Cân nặng lý tưởng:</strong> ${ideal.toFixed(1)} kg<br>
    <strong>BMR:</strong> ${Math.round(bmr)} cal<br>
    <strong>TDEE:</strong> ${Math.round(tdee)} cal<br>
    <strong>DER (calo mục tiêu):</strong> ${der} cal<br>
    <strong>Macro:</strong><br>
    • Protein: ${protein}g (${pCalo} cal)<br>
    • Carb: ${carb}g (${Math.round(cCalo)} cal)<br>
    • Fat: ${fat}g (${Math.round(fCalo)} cal)<br><br>
  `;

  let keHoach = "";
  if (goal === "giam") {
    keHoach = `
    <h3>📅 Kế hoạch tập giảm mỡ:</h3>
    <ul>
      <li>Thứ 2: Cardio 30' + Fullbody</li>
      <li>Thứ 3: Mông – Chân</li>
      <li>Thứ 4: Yoga + đi bộ</li>
      <li>Thứ 5: HIIT + Bụng</li>
      <li>Thứ 6: Toàn thân</li>
      <li>Thứ 7: Zumba / đi bộ</li>
      <li>Chủ nhật: Nghỉ</li>
    </ul>
    <h3>🍽 Gợi ý ăn ~${der} kcal:</h3>
    <ul>
      <li>Sáng: Yến mạch + sữa hạt + chuối</li>
      <li>Trưa: Ức gà + cơm gạo lứt + rau</li>
      <li>Chiều: Sữa chua + hạt</li>
      <li>Tối: Cá hồi + bông cải</li>
    </ul>
    `;
  } else {
    keHoach = `
    <h3>💗 Kế hoạch tập: Săn chắc – Dáng đẹp</h3>
    <ul>
      <li>Thứ 2: Cardio nhẹ + Fullbody cơ bản</li>
      <li>Thứ 3: Mông – Đùi (Squat, Glute Bridge, Side-kick)</li>
      <li>Thứ 4: Yoga / giãn cơ + đi bộ nhanh</li>
      <li>Thứ 5: HIIT nhẹ + Bụng</li>
      <li>Thứ 6: Toàn thân với tạ nhẹ, nhiều reps</li>
      <li>Thứ 7: Zumba / Dance Cardio</li>
      <li>Chủ nhật: Nghỉ + thiền 10 phút</li>
    </ul>
    <h3>🍽 Gợi ý ăn ~${der} kcal:</h3>
    <ul>
      <li>Sáng: Bánh mì trứng + rau củ</li>
      <li>Trưa: Cá hồi / ức gà + cơm gạo lứt + rau</li>
      <li>Chiều: Sữa hạt + trái cây</li>
      <li>Tối: Canh rau củ + ức gà áp chảo</li>
    </ul>
    `;
  }

  document.getElementById("output").innerHTML = output + keHoach;
  document.getElementById("output").style.display = "block";
}
</script>

</body>
</html>
