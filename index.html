<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>App T√≠nh BMI & TDEE</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: auto; padding: 20px; }
    label, select, input, button { display: block; margin: 10px 0; width: 100%; padding: 8px; }
    button { background-color: #3498db; color: white; border: none; cursor: pointer; }
    button:hover { background-color: #2980b9; }
    .result { background: #f0f0f0; padding: 15px; margin-top: 20px; border-left: 4px solid #2ecc71; }
  </style>
</head>
<body>

<h2>üîç T√≠nh BMI, TDEE & Macro Dinh D∆∞·ª°ng</h2>

<label>C√¢n n·∫∑ng (kg):</label>
<input type="number" id="weight" required>

<label>Chi·ªÅu cao (cm):</label>
<input type="number" id="height" required>

<label>PAL (m·ª©c ho·∫°t ƒë·ªông):</label>
<select id="pal">
  <option value="1.2">1.2 ‚Äì √çt v·∫≠n ƒë·ªông</option>
  <option value="1.55">1.55 ‚Äì V·∫≠n ƒë·ªông v·ª´a</option>
  <option value="1.75">1.75 ‚Äì V·∫≠n ƒë·ªông nhi·ªÅu</option>
</select>

<label>M·ª•c ti√™u:</label>
<select id="goal">
  <option value="giam">Gi·∫£m m·ª°</option>
  <option value="co">TƒÉng c∆°</option>
</select>

<button onclick="tinh()">T√≠nh</button>

<div id="output" class="result" style="display:none;"></div>

<script>
function tinh() {
  let weight = parseFloat(document.getElementById('weight').value);
  let height = parseFloat(document.getElementById('height').value);
  let pal = parseFloat(document.getElementById('pal').value);
  let goal = document.getElementById('goal').value;

  if (!weight || !height) return alert("Vui l√≤ng nh·∫≠p ƒë·ªß c√¢n n·∫∑ng v√† chi·ªÅu cao.");

  let heightM = height / 100;
  let bmi = weight / (heightM * heightM);
  let status = "";
  if (bmi < 18.5) status = "Thi·∫øu c√¢n";
  else if (bmi <= 22.9) status = "B√¨nh th∆∞·ªùng";
  else if (bmi <= 24.9) status = "Th·ª´a c√¢n";
  else if (bmi <= 29.9) status = "B√©o ph√¨ ƒë·ªô I";
  else status = "B√©o ph√¨ ƒë·ªô II";

  let ideal = (height - 100) * 0.9;

  let bmr = weight * 22;
  let tdee = bmr * pal;

  let defPercent = goal === "co" ? -0.15 : 0.25;
  let der = Math.round(tdee - tdee * defPercent);

  let protein = Math.round(weight * (goal === "co" ? 2.2 : 1.8));
  let pCalo = protein * 4;
  let fat = Math.round((der * 0.25) / 9);
  let fCalo = fat * 9;
  let carb = Math.round((der - pCalo - fCalo) / 4);
  let cCalo = carb * 4;

  let output = `
    <strong>BMI:</strong> ${bmi.toFixed(1)} (${status})<br>
    <strong>C√¢n n·∫∑ng l√Ω t∆∞·ªüng:</strong> ${ideal.toFixed(1)} kg<br>
    <strong>BMR:</strong> ${Math.round(bmr)} cal<br>
    <strong>TDEE:</strong> ${Math.round(tdee)} cal<br>
    <strong>DER (m·ª•c ti√™u calo):</strong> ${der} cal<br>
    <strong>Macro g·ª£i √Ω:</strong><br>
    ‚Ä¢ Protein: ${protein}g (${pCalo} cal)<br>
    ‚Ä¢ Carb: ${carb}g (${cCalo} cal)<br>
    ‚Ä¢ Fat: ${fat}g (${fCalo} cal)
  `;

  document.getElementById("output").innerHTML = output;
  document.getElementById("output").style.display = "block";
}
</script>

</body>
</html>
